# HK Savor Spoon - Updated IP Configuration
# Date: August 28, 2025

## NEW PUBLIC IP: 154.88.89.9

### 1. Website Configuration Update
Update your HK Savor Spoon website environment file:

**For Laravel (.env file):**
```
WINDOWS_PRINT_SERVER_URL=http://154.88.89.9:5000
# or for port 8080:
WINDOWS_PRINT_SERVER_URL=http://154.88.89.9:8080
```

**For other frameworks:**
Change the print server URL configuration to:
- Port 5000: `http://154.88.89.9:5000`
- Port 8080: `http://154.88.89.9:8080`

### 2. Router Port Forwarding Rules
Ensure these rules are active in your router (192.168.0.1):

**Rule 1: Port 5000**
- External Port: 5000
- Internal IP: 192.168.0.184 (verify this is still correct)
- Internal Port: 5000
- Protocol: TCP

**Rule 2: Port 8080 (backup)**
- External Port: 8080
- Internal IP: 192.168.0.184
- Internal Port: 8080
- Protocol: TCP

### 3. Test Commands
Test the new IP with these commands:

**Test Port 5000:**
```powershell
curl http://154.88.89.9:5000/status
```

**Test Port 8080:**
```powershell
curl http://154.88.89.9:8080/status
```

**Test Local (should still work):**
```powershell
curl http://localhost:5000/status
curl http://192.168.0.184:5000/status
```

### 4. Windows Firewall (already configured)
These rules should already be active:
- HK Savor Spoon Port 5000
- HK Savor Spoon Port 8080

### 5. Expected Response
If working correctly, you should see:
```json
{
  "status": "online",
  "server": "HK Savor Spoon Windows Print Server",
  "version": "1.0",
  "computer": "DELL-PC",
  "local_ip": "192.168.0.184",
  "default_printer": "Star TSP100 Cutter (TSP143)",
  "timestamp": "2025-08-28T..."
}
```

### 6. Prevent Future IP Changes
To avoid this happening again, consider:

**Option A: Static IP from ISP**
- Call your ISP
- Request static IP service (~$10-30/month)
- Get permanent IP address

**Option B: Dynamic DNS (Free)**
- Setup No-IP: https://www.noip.com/
- Get permanent domain like: hksavorspoon.ddns.net
- Use domain instead of IP in website

**Option C: Ngrok Tunnel**
- Use: ngrok http 5000
- Get permanent tunnel URL
- No IP management needed

### 7. Current Configuration Summary
- **Old Public IP:** 58.153.166.26 ❌
- **New Public IP:** 154.88.89.9 ✅
- **Internal IP:** 192.168.0.184 (verify)
- **Router IP:** 192.168.0.1
- **Print Server Port:** 5000 (main) / 8080 (backup)

### 8. Quick Update Checklist
- [ ] Update website WINDOWS_PRINT_SERVER_URL
- [ ] Verify router port forwarding rules
- [ ] Test external access: curl http://154.88.89.9:5000/status
- [ ] Test website printing functionality
- [ ] Consider setting up DDNS to prevent future issues
